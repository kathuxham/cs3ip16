"use strict";(self["webpackChunkvue_3_typescript"]=self["webpackChunkvue_3_typescript"]||[]).push([[244],{58362:function(e,t,n){var i=n(15166);class o{getAll(){return i.Z.get("/individuals")}get(e){return i.Z.get(`/individuals/${e}`)}getByIndividualId(e){return i.Z.get(`/individuals/individualId=${e}`)}create(e){return i.Z.post("/individuals",e)}update(e,t){return i.Z.put(`/individuals/${e}`,t)}delete(e){return i.Z["delete"](`/individuals/${e}`)}findByRole(e){return i.Z.get(`/individuals?studentOrStaff=${e}`)}}t["Z"]=new o},11656:function(e,t,n){var i=n(15166);class o{getAll(){return i.Z.get("/modules")}get(e){return i.Z.get(`/modules/${e}`)}create(e){return i.Z.post("/modules",e)}update(e,t){return i.Z.put(`/modules/${e}`,t)}delete(e){return i.Z["delete"](`/modules/${e}`)}}t["Z"]=new o},42575:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(73396),o=n(87139),s=n(49242);const l=e=>((0,i.dD)("data-v-2cf5efba"),e=e(),(0,i.Cn)(),e),d={class:"report-window"},r={class:"heading"},u={class:"title-container icon-centered"},a={class:"title"},c={class:"record-text"},v={class:"record-title"},m={class:"icon-centered"},f={style:{color:"rgb(170, 170, 170)"},href:"/home"},h={class:"main-page"},p={class:"table-container"},y={class:"input-box"},g={disabled:"",value:""},w=l((()=>(0,i._)("option",null,null,-1))),Z=l((()=>(0,i._)("option",null,"1",-1))),b=l((()=>(0,i._)("option",null,"2",-1))),C=l((()=>(0,i._)("option",null,"3",-1))),_=l((()=>(0,i._)("option",null,"M",-1))),k={class:"result-count"};function I(e,t,n,l,I,j){const L=(0,i.up)("LoadingScreen"),M=(0,i.up)("mdicon"),D=(0,i.up)("RecordTable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.isLoading?((0,i.wg)(),(0,i.j4)(L,{key:0})):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i._)("div",r,[(0,i._)("div",u,[(0,i._)("div",a,[(0,i.Wm)(M,{size:48,class:"icon icon-centered report-icon",name:"bookMultipleOutline"}),(0,i._)("div",c,[(0,i._)("div",v,(0,o.zw)(e.$t("modules.modules")),1)])])]),(0,i._)("span",m,[(0,i._)("a",f,[(0,i.Wm)(M,{size:36,class:"report-icon",name:"close"})])])]),(0,i._)("div",h,[(0,i._)("div",p,[(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t)},null,512),[[s.nr,e.title]]),(0,i._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=(...t)=>e.searchTitle&&e.searchTitle(...t))}," Search "),(0,i.wy)((0,i._)("select",{style:{"margin-left":"10px"},"onUpdate:modelValue":t[2]||(t[2]=t=>e.filteredLevel=t)},[(0,i._)("option",g,(0,o.zw)(e.$t("modules.moduleLevelFilter")),1),w,Z,b,C,_],512),[[s.bM,e.filteredLevel]]),(0,i._)("div",k,(0,o.zw)(e.filteredModules.length)+" results",1)]),(0,i.Wm)(D,{columns:e.jointHeaders,fields:e.filteredModules,entity:e.entity,secondaryEntity:e.secondaryEntity,joinedColumns:e.individualHeaders,joinedFields:e.moduleConvenors},null,8,["columns","fields","entity","secondaryEntity","joinedColumns","joinedFields"])])])])],64)}var j=n(82482),L=n(66520),M=n(11656),D=n(58362),z=n(40384),H=n(60169),T=n(53489),$=function(e,t,n,i){var o,s=arguments.length,l=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(s<3?o(l):s>3?o(t,n,l):o(t,n))||l);return s>3&&l&&Object.defineProperty(t,n,l),l};let O=class extends L.w3{constructor(...e){super(...e),(0,j.Z)(this,"modules",[]),(0,j.Z)(this,"filteredModules",[]),(0,j.Z)(this,"currentModule",{}),(0,j.Z)(this,"currentIndividual",{}),(0,j.Z)(this,"moduleConvenors",[]),(0,j.Z)(this,"moduleConvenorIndividuals",[]),(0,j.Z)(this,"individualHeaders",[]),(0,j.Z)(this,"jointHeaders",[]),(0,j.Z)(this,"currentIndex",-1),(0,j.Z)(this,"title",""),(0,j.Z)(this,"moduleHeaders",[]),(0,j.Z)(this,"entity","modules"),(0,j.Z)(this,"secondaryEntity","moduleConvenors"),(0,j.Z)(this,"isLoading",!1),(0,j.Z)(this,"filteredLevel","")}retrieveModules(){this.isLoading=!0,M.Z.getAll().then((e=>{this.modules=e.data,this.filteredModules=this.modules,this.moduleHeaders=["moduleCode","moduleTitle","moduleLevel","numberOfCredits","termsTaught"];for(let t of this.modules)D.Z.get(t.moduleConvenor[0].individualId).then((e=>{this.currentIndividual=e.data,t.moduleConvenorIndividual=this.currentIndividual,this.individualHeaders=["moduleConvenor"],this.moduleConvenors=this.moduleConvenors.concat(this.currentIndividual)})).catch((e=>{console.log(e)}));this.jointHeaders=["moduleCode","moduleTitle","moduleLevel","numberOfCredits","termsTaught","moduleConvenor"]})).catch((e=>{console.log(e)})),this.isLoading=!1}refreshList(){this.retrieveModules(),this.currentModule={},this.currentIndex=-1}setActiveModule(e,t){this.currentModule=e,this.currentIndex=t}searchTitle(){this.filteredModules=this.modules.filter((e=>{var t=(e.moduleTitle.toLowerCase().includes(this.title.toLowerCase())||e.moduleCode.toLowerCase().includes(this.title.toLowerCase()))&&(""==this.filteredLevel||e.moduleLevel==this.filteredLevel);return t}))}mounted(){this.retrieveModules()}};$([(0,T.R)("filteredLevel")],O.prototype,"searchTitle",null),O=$([(0,L.Ei)({components:{RecordTable:z.Z,LoadingScreen:H.Z}})],O);var R=O,x=n(40089);const E=(0,x.Z)(R,[["render",I],["__scopeId","data-v-2cf5efba"]]);var q=E},40384:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(73396),o=n(87139);const s=e=>((0,i.dD)("data-v-413c9b20"),e=e(),(0,i.Cn)(),e),l={id:"tableComponent",class:"table table-bordered"},d=s((()=>(0,i._)("i",{class:"bi bi-sort-alpha-down","aria-label":"Sort Icon"},null,-1))),r={class:"data-row"},u={key:0},a={key:3};function c(e,t,n,s,c,v){const m=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("table",l,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t},[(0,i.Uk)((0,o.zw)(e.$t(e.entity+"."+t))+" ",1),d])))),128))])]),(0,i._)("tbody",r,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(n=>((0,i.wg)(),(0,i.iD)("td",{key:n},["assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",u,(0,o.zw)(t[n]),1)):(0,i.kq)("",!0),"assessmentmarks"!=e.entity&&"moduleConvenor"!=n?((0,i.wg)(),(0,i.j4)(m,{key:1,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(t[n]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),!t["individual"]||"staffMembers"!=e.entity&&"students"!=e.entity||"moduleConvenors"==e.secondaryEntity?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(m,{key:2,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(t["individual"][n]),1)])),_:2},1032,["to"])),"assessmentWeight"==n&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",a,(0,o.zw)(t["assessment"][n]),1)):(0,i.kq)("",!0),"assessmentWeight"!=n&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.j4)(m,{key:4,to:"/assessments/"+t["assessment"]["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(t["assessment"][n]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),"moduleConvenor"==n&&t["moduleConvenor"]&&t["moduleConvenorIndividual"]&&"moduleConvenors"==e.secondaryEntity?((0,i.wg)(),(0,i.j4)(m,{key:5,to:"/staffMembers/"+t["moduleConvenor"][0]["staffMemberId"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(t["moduleConvenorIndividual"]["firstName"]+" "+t["moduleConvenorIndividual"]["lastName"]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0)])))),128))])))),128))])])}var v=n(82482),m=n(66520),f=n(95183),h=function(e,t,n,i){var o,s=arguments.length,l=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,t,n,i);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(l=(s<3?o(l):s>3?o(t,n,l):o(t,n))||l);return s>3&&l&&Object.defineProperty(t,n,l),l};class p extends m.w3{constructor(...e){super(...e),(0,v.Z)(this,"columns",void 0),(0,v.Z)(this,"fields",void 0),(0,v.Z)(this,"joinedColumns",void 0),(0,v.Z)(this,"joinedFields",void 0),(0,v.Z)(this,"entity",void 0),(0,v.Z)(this,"secondaryEntity",void 0)}created(){}}h([(0,f.fI)()],p.prototype,"columns",void 0),h([(0,f.fI)()],p.prototype,"fields",void 0),h([(0,f.fI)()],p.prototype,"joinedColumns",void 0),h([(0,f.fI)()],p.prototype,"joinedFields",void 0),h([(0,f.fI)()],p.prototype,"entity",void 0),h([(0,f.fI)()],p.prototype,"secondaryEntity",void 0);var y=n(40089);const g=(0,y.Z)(p,[["render",c],["__scopeId","data-v-413c9b20"]]);var w=g}}]);
//# sourceMappingURL=244.7d7c9a24.js.map