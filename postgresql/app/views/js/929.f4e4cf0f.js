"use strict";(self["webpackChunkvue_3_typescript"]=self["webpackChunkvue_3_typescript"]||[]).push([[929],{58362:function(e,t,s){var i=s(15166);class n{getAll(){return i.Z.get("/individuals")}get(e){return i.Z.get(`/individuals/${e}`)}getByIndividualId(e){return i.Z.get(`/individuals/individualId=${e}`)}create(e){return i.Z.post("/individuals",e)}update(e,t){return i.Z.put(`/individuals/${e}`,t)}delete(e){return i.Z["delete"](`/individuals/${e}`)}findByRole(e){return i.Z.get(`/individuals?studentOrStaff=${e}`)}}t["Z"]=new n},55515:function(e,t,s){var i=s(15166);class n{getAll(){return i.Z.get("/students")}get(e){return i.Z.get(`/students/${e}`)}create(e){return i.Z.post("/students",e)}update(e,t){return i.Z.put(`/students/${e}`,t)}delete(e){return i.Z["delete"](`/students/${e}`)}}t["Z"]=new n},72903:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var i=s(73396),n=s(87139),d=s(49242);const r={class:"report-window"},o={class:"heading"},a={class:"title-container icon-centered"},l={class:"title"},u={class:"record-text"},c={class:"record-title"},v={class:"icon-centered"},f={style:{color:"rgb(170, 170, 170)"},href:"/home"},h={class:"main-page"},m={class:"table-container"},p={class:"input-box"},y={class:"result-count"};function g(e,t,s,g,w,Z){const b=(0,i.up)("LoadingScreen"),k=(0,i.up)("mdicon"),_=(0,i.up)("RecordTable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.isLoading?((0,i.wg)(),(0,i.j4)(b,{key:0})):(0,i.kq)("",!0),(0,i._)("div",r,[(0,i._)("div",o,[(0,i._)("div",a,[(0,i._)("div",l,[(0,i.Wm)(k,{size:48,class:"icon icon-centered report-icon",name:"accountSchool"}),(0,i._)("div",u,[(0,i._)("div",c,(0,n.zw)(e.$t("students.students")),1)])])]),(0,i._)("span",v,[(0,i._)("a",f,[(0,i.Wm)(k,{size:36,class:"report-icon",name:"close"})])])]),(0,i._)("div",h,[(0,i._)("div",m,[(0,i._)("div",p,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t)},null,512),[[d.nr,e.title]]),(0,i._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=(...t)=>e.searchTitle&&e.searchTitle(...t))}," Search "),(0,i._)("div",y,(0,n.zw)(e.filteredStudents.length)+" results",1)]),(0,i.Wm)(_,{columns:e.jointHeaders,fields:e.filteredStudents,entity:e.entity,joinedColumns:e.individualHeaders,joinedFields:e.individuals},null,8,["columns","fields","entity","joinedColumns","joinedFields"])])])])],64)}var w=s(82482),Z=s(66520),b=s(58362),k=s(55515),_=s(40384),I=s(60169),j=function(e,t,s,i){var n,d=arguments.length,r=d<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(r=(d<3?n(r):d>3?n(t,s,r):n(t,s))||r);return d>3&&r&&Object.defineProperty(t,s,r),r};let C=class extends Z.w3{constructor(...e){super(...e),(0,w.Z)(this,"students",[]),(0,w.Z)(this,"filteredStudents",[]),(0,w.Z)(this,"currentStudent",{}),(0,w.Z)(this,"individuals",[]),(0,w.Z)(this,"currentIndividual",{}),(0,w.Z)(this,"currentIndex",-1),(0,w.Z)(this,"title",""),(0,w.Z)(this,"studentHeaders",[]),(0,w.Z)(this,"individualHeaders",[]),(0,w.Z)(this,"jointHeaders",[]),(0,w.Z)(this,"entity","students"),(0,w.Z)(this,"isLoading",!1)}retrieveStudents(){this.isLoading=!0,k.Z.getAll().then((e=>{this.students=e.data,this.filteredStudents=this.students,this.studentHeaders=["studentNumber","programme"];for(let t of this.students)b.Z.get(t.individualId).then((e=>{this.currentIndividual=e.data,t.individual=this.currentIndividual,this.individualHeaders=["firstName","lastName","universityEmailAddress"],this.individuals=this.individuals.concat(this.currentIndividual)})).catch((e=>{console.log(e)}));this.jointHeaders=["studentNumber","firstName","lastName","programme","universityEmailAddress"]})).catch((e=>{console.log(e)})),this.isLoading=!1}refreshList(){this.retrieveStudents(),this.currentStudent={},this.currentIndex=-1}setActiveStudent(e,t){this.currentStudent=e,this.currentIndex=t}searchTitle(){this.filteredStudents=this.students.filter((e=>{var t=e.individual.firstName+" "+e.individual.lastName,s=t.toLowerCase().includes(this.title.toLowerCase());return s}))}mounted(){this.retrieveStudents()}};C=j([(0,Z.Ei)({components:{RecordTable:_.Z,LoadingScreen:I.Z}})],C);var S=C,D=s(40089);const H=(0,D.Z)(S,[["render",g],["__scopeId","data-v-6dc23aac"]]);var z=H},40384:function(e,t,s){s.d(t,{Z:function(){return w}});var i=s(73396),n=s(87139);const d=e=>((0,i.dD)("data-v-413c9b20"),e=e(),(0,i.Cn)(),e),r={id:"tableComponent",class:"table table-bordered"},o=d((()=>(0,i._)("i",{class:"bi bi-sort-alpha-down","aria-label":"Sort Icon"},null,-1))),a={class:"data-row"},l={key:0},u={key:3};function c(e,t,s,d,c,v){const f=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("table",r,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t},[(0,i.Uk)((0,n.zw)(e.$t(e.entity+"."+t))+" ",1),o])))),128))])]),(0,i._)("tbody",a,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(s=>((0,i.wg)(),(0,i.iD)("td",{key:s},["assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",l,(0,n.zw)(t[s]),1)):(0,i.kq)("",!0),"assessmentmarks"!=e.entity&&"moduleConvenor"!=s?((0,i.wg)(),(0,i.j4)(f,{key:1,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t[s]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),!t["individual"]||"staffMembers"!=e.entity&&"students"!=e.entity||"moduleConvenors"==e.secondaryEntity?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(f,{key:2,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["individual"][s]),1)])),_:2},1032,["to"])),"assessmentWeight"==s&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",u,(0,n.zw)(t["assessment"][s]),1)):(0,i.kq)("",!0),"assessmentWeight"!=s&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.j4)(f,{key:4,to:"/assessments/"+t["assessment"]["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["assessment"][s]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),"moduleConvenor"==s&&t["moduleConvenor"]&&t["moduleConvenorIndividual"]&&"moduleConvenors"==e.secondaryEntity?((0,i.wg)(),(0,i.j4)(f,{key:5,to:"/staffMembers/"+t["moduleConvenor"][0]["staffMemberId"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["moduleConvenorIndividual"]["firstName"]+" "+t["moduleConvenorIndividual"]["lastName"]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0)])))),128))])))),128))])])}var v=s(82482),f=s(66520),h=s(95183),m=function(e,t,s,i){var n,d=arguments.length,r=d<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(e,t,s,i);else for(var o=e.length-1;o>=0;o--)(n=e[o])&&(r=(d<3?n(r):d>3?n(t,s,r):n(t,s))||r);return d>3&&r&&Object.defineProperty(t,s,r),r};class p extends f.w3{constructor(...e){super(...e),(0,v.Z)(this,"columns",void 0),(0,v.Z)(this,"fields",void 0),(0,v.Z)(this,"joinedColumns",void 0),(0,v.Z)(this,"joinedFields",void 0),(0,v.Z)(this,"entity",void 0),(0,v.Z)(this,"secondaryEntity",void 0)}created(){}}m([(0,h.fI)()],p.prototype,"columns",void 0),m([(0,h.fI)()],p.prototype,"fields",void 0),m([(0,h.fI)()],p.prototype,"joinedColumns",void 0),m([(0,h.fI)()],p.prototype,"joinedFields",void 0),m([(0,h.fI)()],p.prototype,"entity",void 0),m([(0,h.fI)()],p.prototype,"secondaryEntity",void 0);var y=s(40089);const g=(0,y.Z)(p,[["render",c],["__scopeId","data-v-413c9b20"]]);var w=g}}]);
//# sourceMappingURL=929.f4e4cf0f.js.map