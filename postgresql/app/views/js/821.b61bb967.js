"use strict";(self["webpackChunkvue_3_typescript"]=self["webpackChunkvue_3_typescript"]||[]).push([[821],{81164:function(e,t,s){s.r(t),s.d(t,{default:function(){return we}});var a=s(73396),r=s(87139),i=s(49242);const n={class:"record-window"},o={class:"heading"},h={class:"title-container icon-centered"},l={class:"title"},d={class:"record-text"},g={class:"record-title"},m={class:"home-page"},u={class:"home-window"},c={class:"stacked-container"},w={class:"container",style:{height:"39vh"}},y={class:"chart-header"},p=["value"],v={key:1,class:"no-data"},T={class:"container",style:{height:"39vh"}},k={class:"chart-header"},M=["value"],f={key:1,class:"no-data"},D={class:"stacked-container"},Y={class:"container",style:{height:"39vh"}},C={class:"chart-header"},O=["value"],A={key:1,class:"no-data"},Z={class:"container",style:{height:"39vh"}},b={key:0,class:"data-heading"},W={key:2,class:"no-data-pie"},x={key:4,class:"data-heading"},_={key:6,class:"no-data-pie"},L={key:7,class:"data-heading"},q={key:9,class:"no-data-pie"};function z(e,t,s,z,$,j){const N=(0,a.up)("mdicon"),B=(0,a.up)("LoadingChart"),P=(0,a.up)("BarChart"),F=(0,a.up)("LoadingBar"),R=(0,a.up)("ProgressBar");return(0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",o,[(0,a._)("div",h,[(0,a._)("div",l,[(0,a.Wm)(N,{size:48,class:"icon icon-centered home-icon",name:"notebookMultiple"}),(0,a._)("div",d,[(0,a._)("div",g,(0,r.zw)(e.$t("menu.overviewDash")+" - "+(e.currentYear-1)+"/"+e.currentYear),1)])])])]),(0,a._)("div",m,[(0,a._)("div",u,[(0,a._)("div",c,[(0,a._)("div",w,[(0,a._)("div",y,[(0,a._)("h2",null,(0,r.zw)(e.$t("menu.homeOne")),1),(0,a.wy)((0,a._)("select",{class:"select-box","onUpdate:modelValue":t[0]||(t[0]=t=>e.filteredYearOneModule=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.yearOneModules,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e["id"]},(0,r.zw)(e["moduleCode"]),9,p)))),256))],512),[[i.bM,e.filteredYearOneModule]])]),e.isLoadingOne?((0,a.wg)(),(0,a.j4)(B,{key:0})):(0,a.kq)("",!0),""!=e.filteredYearOneModule&&0==e.yearOneChartData.length?((0,a.wg)(),(0,a.iD)("div",v,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),0!=e.yearOneChartData.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:2},(0,a.Ko)(e.yearOneModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartOne&&e.filteredYearOneModule==t.id?((0,a.wg)(),(0,a.j4)(P,{key:0,importedData:e.yearOneChartData,xAxis:"assessment",yAxis:"average",xAxisTitle:"Assessment",yAxisTitle:"Average Mark",idName:"currentYearOne",chartName:"Current Year Averages",source:"dashboard"},null,8,["importedData"])):(0,a.kq)("",!0)])))),256)):(0,a.kq)("",!0)]),(0,a._)("div",T,[(0,a._)("div",k,[(0,a._)("h2",null,(0,r.zw)(e.$t("menu.homeThree")),1),(0,a.wy)((0,a._)("select",{class:"select-box","onUpdate:modelValue":t[1]||(t[1]=t=>e.filteredYearThreeModule=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.yearThreeModules,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e["id"]},(0,r.zw)(e["moduleCode"]),9,M)))),256))],512),[[i.bM,e.filteredYearThreeModule]])]),e.isLoadingThree?((0,a.wg)(),(0,a.j4)(B,{key:0})):(0,a.kq)("",!0),""!=e.filteredYearThreeModule&&0==e.yearThreeChartData.length?((0,a.wg)(),(0,a.iD)("div",f,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),0!=e.yearThreeChartData.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:2},(0,a.Ko)(e.yearThreeModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartThree&&e.filteredYearThreeModule==t.id?((0,a.wg)(),(0,a.j4)(P,{key:0,importedData:e.yearThreeChartData,xAxis:"assessment",yAxis:"average",xAxisTitle:"Assessment",yAxisTitle:"Average Mark",idName:"currentYearThree",chartName:"Current Year Averages",source:"dashboard"},null,8,["importedData"])):(0,a.kq)("",!0)])))),256)):(0,a.kq)("",!0)])]),(0,a._)("div",D,[(0,a._)("div",Y,[(0,a._)("div",C,[(0,a._)("h2",null,(0,r.zw)(e.$t("menu.homeTwo")),1),(0,a.wy)((0,a._)("select",{class:"select-box","onUpdate:modelValue":t[2]||(t[2]=t=>e.filteredYearTwoModule=t)},[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.yearTwoModules,(e=>((0,a.wg)(),(0,a.iD)("option",{value:e["id"]},(0,r.zw)(e["moduleCode"]),9,O)))),256))],512),[[i.bM,e.filteredYearTwoModule]])]),e.isLoadingTwo?((0,a.wg)(),(0,a.j4)(B,{key:0})):(0,a.kq)("",!0),""!=e.filteredYearTwoModule&&0==e.yearTwoChartData.length?((0,a.wg)(),(0,a.iD)("div",A,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.yearTwoModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartTwo&&e.filteredYearTwoModule==t.id&&0!=e.yearTwoChartData.length?((0,a.wg)(),(0,a.j4)(P,{key:0,importedData:e.yearTwoChartData,xAxis:"assessment",yAxis:"average",xAxisTitle:"Assessment",yAxisTitle:"Average Mark",idName:"currentYearTwo",chartName:"Current Year Averages",source:"dashboard"},null,8,["importedData"])):(0,a.kq)("",!0)])))),256))]),(0,a._)("div",Z,[(0,a._)("h2",null,(0,r.zw)(e.$t("menu.moduleCompletion")),1),e.isLoadingOne?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",b,(0,r.zw)(e.$t("menu.homeOneBar")),1)),e.isLoadingOne?((0,a.wg)(),(0,a.j4)(F,{key:1})):(0,a.kq)("",!0),""!=e.filteredYearOneModule&&0==e.yearOneChartData.length?((0,a.wg)(),(0,a.iD)("div",W,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),0!=e.yearOneChartData.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:3},(0,a.Ko)(e.yearOneModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartOne&&e.filteredYearOneModule==t.id?((0,a.wg)(),(0,a.j4)(R,{key:0,importedData:e.yearOneWeightData,percentComplete:e.yearOneComplete,idName:"currentYearOnePie"},null,8,["importedData","percentComplete"])):(0,a.kq)("",!0)])))),256)):(0,a.kq)("",!0),e.isLoadingTwo?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",x,(0,r.zw)(e.$t("menu.homeTwoBar")),1)),e.isLoadingTwo?((0,a.wg)(),(0,a.j4)(F,{key:5})):(0,a.kq)("",!0),""!=e.filteredYearTwoModule&&0==e.yearTwoChartData.length?((0,a.wg)(),(0,a.iD)("div",_,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.yearTwoModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartTwo&&e.filteredYearTwoModule==t.id&&0!=e.yearTwoChartData.length?((0,a.wg)(),(0,a.j4)(R,{key:0,importedData:e.yearTwoWeightData,percentComplete:e.yearTwoComplete,idName:"currentYearTwoPie"},null,8,["importedData","percentComplete"])):(0,a.kq)("",!0)])))),256)),e.isLoadingThree?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",L,(0,r.zw)(e.$t("menu.homeThreeBar")),1)),e.isLoadingThree?((0,a.wg)(),(0,a.j4)(F,{key:8})):(0,a.kq)("",!0),""!=e.filteredYearThreeModule&&0==e.yearThreeChartData.length?((0,a.wg)(),(0,a.iD)("div",q,(0,r.zw)(e.$t("menu.moduleUnavailable")),1)):(0,a.kq)("",!0),0!=e.yearThreeChartData.length?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:10},(0,a.Ko)(e.yearThreeModules,(t=>((0,a.wg)(),(0,a.iD)("div",null,[e.showChartThree&&e.filteredYearThreeModule==t.id&&0!=e.yearThreeChartData.length?((0,a.wg)(),(0,a.j4)(R,{key:0,importedData:e.yearThreeWeightData,percentComplete:e.yearThreeComplete,idName:"currentYearThreePie"},null,8,["importedData","percentComplete"])):(0,a.kq)("",!0)])))),256)):(0,a.kq)("",!0)])])])])])}var $=s(82482),j=(s(57658),s(66520)),N=s(60169);const B={class:"loading"};function P(e,t,s,r,i,n){const o=(0,a.up)("mdicon");return(0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(o,{size:48,class:"icon icon-centered loading-icon mdi-spin",name:"loading"})])}class F extends j.w3{}var R=s(40089);const U=(0,R.Z)(F,[["render",P],["__scopeId","data-v-606bb7ab"]]);var H=U;const K={class:"loading-bar"};function V(e,t,s,r,i,n){const o=(0,a.up)("mdicon");return(0,a.wg)(),(0,a.iD)("div",K,[(0,a.Wm)(o,{size:48,class:"icon icon-centered loading-icon mdi-spin",name:"loading"})])}class I extends j.w3{}const X=(0,R.Z)(I,[["render",V],["__scopeId","data-v-15a59114"]]);var S=X;const E=["id"];function Q(e,t,s,r,i,n){return(0,a.wg)(),(0,a.iD)("div",{id:e.idName,style:{height:"80px",position:"static !important"}},null,8,E)}var G=s(34061),J=s(21268),ee=s(64548),te=s(90203),se=function(e,t,s,a){var r,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(i<3?r(n):i>3?r(t,s,n):r(t,s))||n);return i>3&&n&&Object.defineProperty(t,s,n),n};G.FgM(ee.Z);class ae extends j.w3{constructor(...e){super(...e),(0,$.Z)(this,"importedData",void 0),(0,$.Z)(this,"percentComplete",void 0),(0,$.Z)(this,"idName",void 0),(0,$.Z)(this,"chart",new J.zO)}mounted(){let e=G.Ue8(this.idName,J.zO);this.importedData&&(e.data=this.importedData),this.percentComplete&&100!=this.percentComplete&&e.data.push({category:"",assessment:"Incomplete",from:this.percentComplete,to:100,weighting:100-this.percentComplete,fill:G.$_Y("#9e9e9e")});let t=e.yAxes.push(new J.$l);t.dataFields.category="category",t.renderer.grid.template.disabled=!0,t.renderer.labels.template.disabled=!0;let s=e.xAxes.push(new J.mn);s.renderer.grid.template.disabled=!0,s.renderer.grid.template.disabled=!0,s.renderer.labels.template.disabled=!0,s.min=0,s.max=100;let a=e.series.push(new J.dX);a.dataFields.valueX="to",a.dataFields.openValueX="from",a.dataFields.categoryY="category",a.columns.template.propertyFields.fill="fill",a.columns.template.strokeOpacity=0,a.columns.template.height=G.aQA(100),e.events.on("beforedatavalidated",(function(t){let a=e.data;for(var r=0;r<a.length;r++){let e=s.axisRanges.create();e.value=a[r].to,a[r].weighting>5&&(e.label.text=a[r].to.toFixed(0)+"%"),e.label.horizontalCenter="right",e.label.paddingLeft=5,e.label.paddingTop=5,e.label.fontSize=14,e.grid.strokeOpacity=.2,e.tick.length=20,e.tick.strokeOpacity=.2}}))}beforeDestroy(){this.chart&&this.chart.dispose()}}se([(0,te.f)()],ae.prototype,"importedData",void 0),se([(0,te.f)()],ae.prototype,"percentComplete",void 0),se([(0,te.f)()],ae.prototype,"idName",void 0);const re=(0,R.Z)(ae,[["render",Q]]);var ie=re,ne=s(78224),oe=s(20602),he=s(11656),le=s(95183),de=s(86631),ge=function(e,t,s,a){var r,i=arguments.length,n=i<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(n=(i<3?r(n):i>3?r(t,s,n):r(t,s))||n);return i>3&&n&&Object.defineProperty(t,s,n),n};let me=class extends j.w3{constructor(...e){super(...e),(0,$.Z)(this,"assessmentMarks",[]),(0,$.Z)(this,"currentAssessment",{}),(0,$.Z)(this,"assessments",[]),(0,$.Z)(this,"modules",[]),(0,$.Z)(this,"levelOneAssessments",[]),(0,$.Z)(this,"levelTwoAssessments",[]),(0,$.Z)(this,"levelThreeAssessments",[]),(0,$.Z)(this,"isLoadingOne",!1),(0,$.Z)(this,"isLoadingTwo",!1),(0,$.Z)(this,"isLoadingThree",!1),(0,$.Z)(this,"averageAssessmentMarksYearOne",[]),(0,$.Z)(this,"averageAssessmentMarksYearTwo",[]),(0,$.Z)(this,"averageAssessmentMarksYearThree",[]),(0,$.Z)(this,"filteredYearOneModule",""),(0,$.Z)(this,"filteredYearTwoModule",""),(0,$.Z)(this,"filteredYearThreeModule",""),(0,$.Z)(this,"yearOneChartData",[]),(0,$.Z)(this,"yearTwoChartData",[]),(0,$.Z)(this,"yearThreeChartData",[]),(0,$.Z)(this,"currentYear",0),(0,$.Z)(this,"averageMarkThisYear",""),(0,$.Z)(this,"showChartOne",!0),(0,$.Z)(this,"showChartTwo",!0),(0,$.Z)(this,"showChartThree",!0),(0,$.Z)(this,"yearOneModules",[]),(0,$.Z)(this,"yearTwoModules",[]),(0,$.Z)(this,"yearThreeModules",[]),(0,$.Z)(this,"yearOneWeightData",[]),(0,$.Z)(this,"yearTwoWeightData",[]),(0,$.Z)(this,"yearThreeWeightData",[]),(0,$.Z)(this,"yearOneWeighting",[]),(0,$.Z)(this,"yearTwoWeighting",[]),(0,$.Z)(this,"yearThreeWeighting",[]),(0,$.Z)(this,"yearOneComplete",0),(0,$.Z)(this,"yearTwoComplete",0),(0,$.Z)(this,"yearThreeComplete",0)}getModules(){he.Z.getAll().then((e=>{this.modules=e.data,this.yearOneModules=this.modules.filter((e=>{var t="1"==e.moduleLevel;return t})),this.filteredYearOneModule=this.yearOneModules[0].id,this.yearTwoModules=this.modules.filter((e=>{var t="2"==e.moduleLevel;return t})),this.filteredYearTwoModule=this.yearTwoModules[0].id,this.yearThreeModules=this.modules.filter((e=>{var t="3"==e.moduleLevel;return t})),this.filteredYearThreeModule=this.yearThreeModules[0].id})).catch((e=>{console.log(e)}))}filterYearOneMarks(){this.showChartOne=!1,this.isLoadingOne=!0,this.getAssessments(this.filteredYearOneModule,1)}filterYearTwoMarks(){this.showChartTwo=!1,this.isLoadingTwo=!0,this.getAssessments(this.filteredYearTwoModule,2)}filterYearThreeMarks(){this.showChartThree=!1,this.isLoadingThree=!0,this.getAssessments(this.filteredYearThreeModule,3)}getAssessments(e,t){oe.Z.getAssessmentsByModule(e).then((async e=>{this.assessments=e.data,this.getAssessmentMarks(this.assessments,t),await new Promise((e=>setTimeout(e,3e3))),this.yearOneComplete=this.getCompleted(this.yearOneWeighting),this.yearTwoComplete=this.getCompleted(this.yearTwoWeighting),this.yearThreeComplete=this.getCompleted(this.yearThreeWeighting)})).catch((e=>{console.log(e)}))}getAssessmentMarks(e,t){var s=0;1==t?(this.averageAssessmentMarksYearOne=[],this.yearOneChartData=[],this.yearOneWeighting=[],this.yearOneWeightData=[]):2==t?(this.averageAssessmentMarksYearTwo=[],this.yearTwoChartData=[],this.yearTwoWeighting=[],this.yearTwoWeightData=[]):3==t&&(this.averageAssessmentMarksYearThree=[],this.yearThreeChartData=[],this.yearThreeWeighting=[],this.yearThreeWeightData=[]);for(let a of e)a.id&&ne.Z.getByAssessment(a.id).then((async e=>{var r=[],i=[],n=[],o=[];for(let t of e.data)a.id&&oe.Z.get(a.id).then((e=>{t.assessment=e.data})).catch((e=>{console.log(e)})),r.push(t.assessmentMark),t.assessmentDate.includes(this.currentYear)&&(1==t.assessmentLevel?i.push(t.assessmentMark):2==t.assessmentLevel?n.push(t.assessmentMark):3==t.assessmentLevel&&o.push(t.assessmentMark));if(0!=i.length&&(this.averageAssessmentMarksYearOne=this.getAverageMarks(i,this.averageAssessmentMarksYearOne),this.averageMarkThisYear=this.getAverageMark(i),this.yearOneWeighting.push(a.assessmentWeight),this.yearOneWeightData.push({category:"",assessment:a.assessmentCode,from:s,to:s+a.assessmentWeight,weighting:a.assessmentWeight,fill:G.$_Y("#104547")}),s+=a.assessmentWeight),0!=n.length&&(this.averageAssessmentMarksYearTwo=this.getAverageMarks(n,this.averageAssessmentMarksYearTwo),this.averageMarkThisYear=this.getAverageMark(n),this.yearTwoWeighting.push(a.assessmentWeight),this.yearTwoWeightData.push({category:"",assessment:a.assessmentCode,from:s,to:s+a.assessmentWeight,weighting:a.assessmentWeight,fill:G.$_Y("#104547")}),s+=a.assessmentWeight),0!=o.length&&(this.averageAssessmentMarksYearThree=this.getAverageMarks(o,this.averageAssessmentMarksYearThree),this.averageMarkThisYear=this.getAverageMark(o),this.yearThreeWeighting.push(a.assessmentWeight),this.yearThreeWeightData.push({category:"",assessment:a.assessmentCode,from:s,to:s+a.assessmentWeight,weighting:a.assessmentWeight,fill:G.$_Y("#104547")}),s+=a.assessmentWeight),1==t)for(let t in this.averageAssessmentMarksYearOne)this.yearOneChartData.push({assessment:this.assessments[t].assessmentCode,average:this.averageAssessmentMarksYearOne[t]});if(2==t)for(let t in this.averageAssessmentMarksYearTwo)this.yearTwoChartData.push({assessment:this.assessments[t].assessmentCode,average:this.averageAssessmentMarksYearTwo[t]});if(3==t)for(let t in this.averageAssessmentMarksYearThree)this.yearThreeChartData.push({assessment:this.assessments[t].assessmentCode,average:this.averageAssessmentMarksYearThree[t]});await new Promise((e=>setTimeout(e,3e3))),this.showChartOne=!0,this.showChartTwo=!0,this.showChartThree=!0,this.isLoadingOne=!1,this.isLoadingTwo=!1,this.isLoadingThree=!1})).catch((e=>{console.log(e)}))}getAverageMarks(e,t){var s=e.reduce(((e,t)=>e+t)),a=s/e.length;return t.push(a.toFixed(1)),t}getAverageMark(e){var t=e.reduce(((e,t)=>e+t)),s=t/e.length;return s.toFixed(1)}getCompleted(e){var t=e.reduce(((e,t)=>e+t));return t}mounted(){this.getModules()}created(){this.currentYear=(new Date).getFullYear()}};ge([(0,le.RL)("filteredYearOneModule")],me.prototype,"filterYearOneMarks",null),ge([(0,le.RL)("filteredYearTwoModule")],me.prototype,"filterYearTwoMarks",null),ge([(0,le.RL)("filteredYearThreeModule")],me.prototype,"filterYearThreeMarks",null),me=ge([(0,j.Ei)({components:{LoadingScreen:N.Z,LoadingChart:H,LoadingBar:S,ProgressBar:ie,BarChart:de.Z}})],me);var ue=me;const ce=(0,R.Z)(ue,[["render",z]]);var we=ce}}]);
//# sourceMappingURL=821.b61bb967.js.map