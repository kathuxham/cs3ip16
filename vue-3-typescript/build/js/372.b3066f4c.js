"use strict";(self["webpackChunkvue_3_typescript"]=self["webpackChunkvue_3_typescript"]||[]).push([[372],{58362:function(e,t,s){var i=s(15166);class n{getAll(){return i.Z.get("/individuals")}get(e){return i.Z.get(`/individuals/${e}`)}getByIndividualId(e){return i.Z.get(`/individuals/individualId=${e}`)}create(e){return i.Z.post("/individuals",e)}update(e,t){return i.Z.put(`/individuals/${e}`,t)}delete(e){return i.Z["delete"](`/individuals/${e}`)}findByRole(e){return i.Z.get(`/individuals?studentOrStaff=${e}`)}}t["Z"]=new n},94419:function(e,t,s){var i=s(15166);class n{getAll(){return i.Z.get("/staffMembers")}get(e){return i.Z.get(`/staffMembers/${e}`)}create(e){return i.Z.post("/staffMembers",e)}update(e,t){return i.Z.put(`/staffMembers/${e}`,t)}delete(e){return i.Z["delete"](`/staffMembers/${e}`)}}t["Z"]=new n},93144:function(e,t,s){s.r(t),s.d(t,{default:function(){return H}});var i=s(73396),n=s(87139),r=s(49242);const a={class:"report-window"},d={class:"heading"},o={class:"title-container icon-centered"},l={class:"title"},u={class:"record-text"},c={class:"record-title"},f={class:"icon-centered"},m={style:{color:"rgb(170, 170, 170)"},href:"/home"},v={class:"main-page"},h={class:"table-container"},b={class:"input-box"},p={class:"result-count"};function y(e,t,s,y,g,w){const Z=(0,i.up)("LoadingScreen"),k=(0,i.up)("mdicon"),M=(0,i.up)("RecordTable");return(0,i.wg)(),(0,i.iD)(i.HY,null,[e.isLoading?((0,i.wg)(),(0,i.j4)(Z,{key:0})):(0,i.kq)("",!0),(0,i._)("div",a,[(0,i._)("div",d,[(0,i._)("div",o,[(0,i._)("div",l,[(0,i.Wm)(k,{size:48,class:"icon icon-centered report-icon",name:"account"}),(0,i._)("div",u,[(0,i._)("div",c,(0,n.zw)(e.$t("staffMembers.staffMembers")),1)])])]),(0,i._)("span",f,[(0,i._)("a",m,[(0,i.Wm)(k,{size:36,class:"report-icon",name:"close"})])])]),(0,i._)("div",v,[(0,i._)("div",h,[(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",placeholder:"Search","onUpdate:modelValue":t[0]||(t[0]=t=>e.title=t)},null,512),[[r.nr,e.title]]),(0,i._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:t[1]||(t[1]=(...t)=>e.searchTitle&&e.searchTitle(...t))}," Search "),(0,i._)("div",p,(0,n.zw)(e.filteredStaffMembers.length)+" results",1)]),(0,i.Wm)(M,{columns:e.jointHeaders,fields:e.filteredStaffMembers,entity:"staffMembers",joinedColumns:e.individualHeaders,joinedFields:e.individuals},null,8,["columns","fields","joinedColumns","joinedFields"])])])])],64)}var g=s(82482),w=s(66520),Z=s(94419),k=s(58362),M=s(40384),_=s(60169),I=function(e,t,s,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(r<3?n(a):r>3?n(t,s,a):n(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let j=class extends w.w3{constructor(...e){super(...e),(0,g.Z)(this,"staffMembers",[]),(0,g.Z)(this,"filteredStaffMembers",[]),(0,g.Z)(this,"currentStaffMembers",{}),(0,g.Z)(this,"individuals",[]),(0,g.Z)(this,"currentIndividual",{}),(0,g.Z)(this,"currentIndex",-1),(0,g.Z)(this,"title",""),(0,g.Z)(this,"staffMemberHeaders",[]),(0,g.Z)(this,"individualHeaders",[]),(0,g.Z)(this,"jointHeaders",[]),(0,g.Z)(this,"isLoading",!1)}retrieveStaffMembers(){this.isLoading=!0,Z.Z.getAll().then((e=>{this.staffMembers=e.data,this.filteredStaffMembers=this.staffMembers,this.staffMemberHeaders=["staffNumber","position"];for(let t of this.staffMembers)k.Z.get(t.individualId).then((e=>{this.currentIndividual=e.data,t.individual=this.currentIndividual,this.individualHeaders=["firstName","lastName","universityEmailAddress"],this.individuals=this.individuals.concat(this.currentIndividual),this.jointHeaders=["staffNumber","firstName","lastName","position","universityEmailAddress"]})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)})),this.isLoading=!1}refreshList(){this.retrieveStaffMembers(),this.currentStaffMembers={},this.currentIndex=-1}setActiveStaffMember(e,t){this.currentStaffMembers=e,this.currentIndex=t}searchTitle(){this.filteredStaffMembers=this.staffMembers.filter((e=>{var t=e.individual.firstName+" "+e.individual.lastName,s=t.toLowerCase().includes(this.title.toLowerCase());return s}))}mounted(){this.retrieveStaffMembers()}};j=I([(0,w.Ei)({components:{RecordTable:M.Z,LoadingScreen:_.Z}})],j);var C=j,S=s(40089);const D=(0,S.Z)(C,[["render",y],["__scopeId","data-v-34a89f09"]]);var H=D},40384:function(e,t,s){s.d(t,{Z:function(){return g}});var i=s(73396),n=s(87139);const r=e=>((0,i.dD)("data-v-413c9b20"),e=e(),(0,i.Cn)(),e),a={id:"tableComponent",class:"table table-bordered"},d=r((()=>(0,i._)("i",{class:"bi bi-sort-alpha-down","aria-label":"Sort Icon"},null,-1))),o={class:"data-row"},l={key:0},u={key:3};function c(e,t,s,r,c,f){const m=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("table",a,[(0,i._)("thead",null,[(0,i._)("tr",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(t=>((0,i.wg)(),(0,i.iD)("th",{key:t},[(0,i.Uk)((0,n.zw)(e.$t(e.entity+"."+t))+" ",1),d])))),128))])]),(0,i._)("tbody",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.fields,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.columns,(s=>((0,i.wg)(),(0,i.iD)("td",{key:s},["assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",l,(0,n.zw)(t[s]),1)):(0,i.kq)("",!0),"assessmentmarks"!=e.entity&&"moduleConvenor"!=s?((0,i.wg)(),(0,i.j4)(m,{key:1,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t[s]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),!t["individual"]||"staffMembers"!=e.entity&&"students"!=e.entity||"moduleConvenors"==e.secondaryEntity?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(m,{key:2,to:"/"+e.entity+"/"+t["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["individual"][s]),1)])),_:2},1032,["to"])),"assessmentWeight"==s&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.iD)("div",u,(0,n.zw)(t["assessment"][s]),1)):(0,i.kq)("",!0),"assessmentWeight"!=s&&t["assessment"]&&"assessmentmarks"==e.entity?((0,i.wg)(),(0,i.j4)(m,{key:4,to:"/assessments/"+t["assessment"]["id"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["assessment"][s]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0),"moduleConvenor"==s&&t["moduleConvenor"]&&t["moduleConvenorIndividual"]&&"moduleConvenors"==e.secondaryEntity?((0,i.wg)(),(0,i.j4)(m,{key:5,to:"/staffMembers/"+t["moduleConvenor"][0]["staffMemberId"]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t["moduleConvenorIndividual"]["firstName"]+" "+t["moduleConvenorIndividual"]["lastName"]),1)])),_:2},1032,["to"])):(0,i.kq)("",!0)])))),128))])))),128))])])}var f=s(82482),m=s(66520),v=s(95183),h=function(e,t,s,i){var n,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(a=(r<3?n(a):r>3?n(t,s,a):n(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};class b extends m.w3{constructor(...e){super(...e),(0,f.Z)(this,"columns",void 0),(0,f.Z)(this,"fields",void 0),(0,f.Z)(this,"joinedColumns",void 0),(0,f.Z)(this,"joinedFields",void 0),(0,f.Z)(this,"entity",void 0),(0,f.Z)(this,"secondaryEntity",void 0)}created(){}}h([(0,v.fI)()],b.prototype,"columns",void 0),h([(0,v.fI)()],b.prototype,"fields",void 0),h([(0,v.fI)()],b.prototype,"joinedColumns",void 0),h([(0,v.fI)()],b.prototype,"joinedFields",void 0),h([(0,v.fI)()],b.prototype,"entity",void 0),h([(0,v.fI)()],b.prototype,"secondaryEntity",void 0);var p=s(40089);const y=(0,p.Z)(b,[["render",c],["__scopeId","data-v-413c9b20"]]);var g=y}}]);
//# sourceMappingURL=372.b3066f4c.js.map